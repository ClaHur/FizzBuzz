//User input FizzBuzz
const tools = require('./stretchFunc.js'); //pull functions from function file
console.log("~~~Welcome to Buzz your own Fizz!~~~")
const prompt = require('prompt-sync')(); //require prompt sync for user inputs
var max = "";
//Take maximum number input from user
while (!Number.isInteger(max)) {
    max = prompt('What number would you like to go up to? ');
    max = parseFloat(max);
    if (!Number.isInteger(max)) {
        console.log("Invalid input, please try again. ")
    }
}

//MAKE A RULE
//Three rule options: Append, Replace, Reverse
//Append adds the desired word to the end of the value to be logged
//Replace replaces the whole log value with the desired word
//Reverse reverses the order of the words within the log value
tools.wait("Great, now it's time to apply some rules!", 500);
tools.wait("You will choose a number, and then a corresponding rule.", 1000);
tools.wait("APPEND adds your desired word to the end of the string.", 2000)
tools.wait("REPLACE replaces the string with your desired word.", 3500)
tools.wait("REVERSE reverses the order of the words within the string.", 5000)

//TO CONSIDER: What happens if user applies same number twice?
//Replaces followed by appends will include the append
var rules;
const run = function () {
    (function (next) {
        rules = tools.chooseRules();
        next()
    }(function () {
        tools.runFizzBuzz(rules, max);
    }))
}
setTimeout(run, 6000);
